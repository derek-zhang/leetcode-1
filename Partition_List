struct ListNode {
  int val;
	ListNode *next;
	ListNode(int x) : val(x), next(NULL) {}
};

//逐个取当前结点，判断之后加入左或者右边列表，最后合并两个列表，将最后一个元素的next置为NULL。
 ListNode *partition(ListNode *head, int x)
 {
	ListNode *pL = NULL;
	ListNode *pR = NULL;
	ListNode **ppL = &pL;
	ListNode **ppR = &pR;
	ListNode *pLast = NULL;
	while(head)
	{
		if(head->val < x)
		{
			*ppL = head;
			ppL = &(head->next);
		}
		else
		{
			*ppR = head;
			ppR = &(head->next);
			pLast = head;
		}
		head = head->next;
	}
	*ppL = pR;
	if(pLast)
		pLast->next = NULL;
	return pL;

 }
